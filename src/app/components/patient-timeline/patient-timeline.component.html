<div class="panel panel-primary">
  <div class="panel-heading">
    <span style="float:right" class="glyphicon glyphicon-remove"></span>
    <h4 class="panel-title">Timeline</h4>
  </div>
  <div class="panel-body; scroll">
    <div *ngFor="let item of patientService.presentation, let i = index ">

      <div class="col-md-3" style="text-align: right">
        {{item.metadata.startTime | date: "dd-MM-yyyy HH:mm"}}<br>
        {{item.metadata.startTime | date: "dd-MMM"}}
      </div>

      <div class="col-md-1">
        <div class="timeline-icon fa-stethoscope"></div>
      </div>

      <div class="col-md-8">
        <ul class="list-group">
          <li class="list-group-item">
            {{item.metadata.templateId}}{{' | ' + item.metadata.composer.name}}
            <p>{{item.composition.children[0].label}}</p>
            <div *ngFor="let item of item.composition.children[0].children">
              <ul>
                <li>{{item.label}}: {{item.displayValue}}</li>
              </ul>
            </div>
          </li>
          <ul class="timeline"></ul>
        </ul>
      </div>

    </div>
  </div>
</div>

<!--TEST-->


<!--TABELA-->
<div class="panel panel-info">
  <div class="panel-heading">
    <span style="float:right" class="glyphicon glyphicon-remove"></span>
    <h3 class="panel-title">Laboratory Results</h3>
  </div>
  <div class="panel-body">
    <table class="table table-striped">
      <tr style="background-color: transparent">
        <th>Name</th>
        <th>LOINC</th>
        <th>Normal Range</th>
        <th>Value</th>
        <th>Unit</th>
        <th>Time</th>
      </tr>
      <tr></tr>
      <tr *ngFor="let item of patientService.labs, let i = index">
        <td>
          {{item.name}}
        </td>
        <td>
          {{item.loinc}}
        </td>
        <td>
          {{item.normal_min}} {{item.normal_max}}
        </td>
        <td>
          {{item.value}}
        </td>
        <td>
          {{item.unit}}
        </td>
        <td>
          {{item.time | date: "dd-MMM-yyyy' at 'HH:mm"}}
        </td>
      </tr>
    </table>
  </div>
</div>

<!--BlodPresure-->
<div class="grafikon" class="col-md-6">
  <div class="panel panel-danger">
    <div class="panel-heading">
      <span style="float:right" class="glyphicon glyphicon-remove"></span>
      <h3 class="panel-title">Blod Presure</h3>
    </div>
    <div class="panel-body">
      <canvas baseChart *ngIf="patientService.bloodPressureData.length > 0"
              [datasets]="patientService.bloodPressureData"
              [labels]="patientService.bloodPressureTime"
              [options]="bloodPressureOptions"
              [colors]="bloodPressureColors"
              [chartType]="'line'">
      </canvas>
      <div *ngFor="let item of patientService.bloodPressure, let i = index " class="center">
        <p *ngIf="i < 1">
          As of: {{item.time | date:"dd-MMM-yyyy' at 'HH:mm"}}<br>
        </p>
        <h3 *ngIf="i < 1" class="blodpresure">
          {{item.systolic + "/"}}{{item.diastolic}}{{item.unit}}
        </h3>
      </div>
    </div>
  </div>
</div>

<!--BodyTemperature-->
<div class="grafikon" class="col-md-6">
  <div class="panel panel-warning">
    <div class="panel-heading">
      <span style="float:right" class="glyphicon glyphicon-remove"></span>
      <h3 class="panel-title">Body Temperature</h3>
    </div>
    <div class="panel-body">
      <canvas baseChart *ngIf="patientService.bodyTemperatureData.length > 0"
              [datasets]="patientService.bodyTemperatureData"
              [labels]="patientService.bodyTemperatureTime"
              [options]="bodyTemperatureOptions"
              [colors]="bodyTemperatureColors"
              [chartType]="'bar'">
      </canvas>
      <div *ngFor="let item of patientService.bodyTemperature, let i = index " class="center">
        <p *ngIf="i < 1">
          As of: {{item.time | date:"dd-MMM-yyyy' at 'HH:mm"}}<br>
        </p>
        <h3 *ngIf="i < 1" class="bodytemperature">
          {{item.temperature}} {{item.unit}}
        </h3>
      </div>
    </div>
  </div>
</div>


<!--Height-->
<div class="grafikon" class="col-md-6">
  <div class="panel panel-info">
    <div class="panel-heading">
      <span style="float:right" class="glyphicon glyphicon-remove"></span>
      <h3 class="panel-title">Height</h3>
    </div>
    <div class="panel-body">
      <canvas baseChart *ngIf="patientService.heightData.length > 0"
              [datasets]="patientService.heightData"
              [labels]="patientService.heightTime"
              [options]="heightOptions"
              [colors]="heightColors"
              [chartType]="'bar'">
      </canvas>
      <div *ngFor="let item of patientService.height, let i = index " class="center">
        <p *ngIf="i < 1">
          As of: {{item.time | date:"dd-MMM-yyyy' at 'HH:mm"}}<br>
        </p>
        <h3 *ngIf="i < 1" class="height">
          {{item.height}} {{item.unit}}
        </h3>
      </div>
    </div>
  </div>
</div>

<!--Pulse-->
<div class="grafikon" class="col-md-6">
  <div class="panel panel-success">
    <div class="panel-heading">
      <span style="float:right" class="glyphicon glyphicon-remove"></span>
      <h3 class="panel-title">Pulse</h3>
    </div>
    <div class="panel-body">
      <canvas baseChart *ngIf="patientService.pulseData.length > 0"
              [datasets]="patientService.pulseData"
              [labels]="patientService.pulseTime"
              [options]="pulseOptions"
              [colors]="pulseColors"
              [chartType]="'line'">
      </canvas>
      <div *ngFor="let item of patientService.pulse, let i = index " class="center">
        <p *ngIf="i < 1">
          As of: {{item.time | date:"dd-MMM-yyyy' at 'HH:mm"}}<br>
        </p>
        <h3 *ngIf="i < 1" class="pulse">
          {{item.pulse}} {{item.unit}}
        </h3>
      </div>
    </div>
  </div>
</div>

<!--Weight-->
<div class="grafikon" class="col-md-6" *ngIf="hideContent">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <span style="float:right" (click)="hideContent = false" class="glyphicon glyphicon-remove"></span>
      <h3 class="panel-title">Weight</h3>
    </div>
    <div class="panel-body">
      <canvas baseChart *ngIf="patientService.weightData.length > 0"
              [datasets]="patientService.weightData"
              [labels]="patientService.weightTime"
              [options]="weightOptions"
              [colors]="weightColors"
              [chartType]="'line'">
      </canvas>
      <div *ngFor="let item of patientService.weight, let i = index " class="center">
        <p *ngIf="i < 1">
          As of: {{item.time | date:"dd-MMM-yyyy' at 'HH:mm"}}<br>
        </p>
        <h3 *ngIf="i < 1" class="weight">
          {{item.weight}} {{item.unit}}
        </h3>
      </div>
    </div>
  </div>
</div>
